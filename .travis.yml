language: scala

sudo: false

jdk:
  - openjdk8

script:
  - git config core.whitespace tab-in-indent,trailing-space,space-before-tab,cr-at-eol
  - git show --oneline --check
  - sbt "+ msgpack4z-argonautJVM/test" "+ msgpack4z-argonautJS/test"

matrix:
  include:
  - jdk: openjdk11
    dist: xenial

cache:
  directories:
  - "$HOME/.ivy2/cache"
  - "$HOME/.sbt/launchers"
  - "$HOME/.cache/coursier"

before_cache:
  - find $HOME/.ivy2/cache -name "ivydata-*.properties" | xargs rm
  - find $HOME/.ivy2/cache -name "*SNAPSHOT*" | xargs rm -rf
